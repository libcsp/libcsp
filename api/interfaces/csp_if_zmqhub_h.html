<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ZeroMQ Interface &mdash; Cubesat Space Protocol</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.5ea377869091fd0449014c60fc090103.min.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Architecture dependent" href="../arch/arch.html" />
    <link rel="prev" title="UDP Interface" href="csp_if_udp_h.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: rgba(52,49,49,1) 100%;" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Lib CSP
          </a>
              <div class="version">
                develop
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../INSTALL.html">How to install LibCSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build-doc.html">How to build documentation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">CSP API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../csp_h.html">CSP Library Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_types_h.html">CSP Basic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_buffer_h.html">CSP Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_cmp_h.html">CSP Management Protocol (CMP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_sfp_h.html">Small Fragmentation Protocol (SFP)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_promisc_h.html">Promiscuous packet queue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_interface_h.html">CSP Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_rtable_h.html">Routing table</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_iflist_h.html">Interfaces management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_error_h.html">Error Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_debug_h.html">CSP Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_id_h.html">CSP ID</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_crc32_h.html">CRC32 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_hooks_h.html">CSP Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../csp_yaml_h.html">YAML Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drivers/drivers.html">Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/crypto.html">Crypto</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="interfaces.html">Interfaces</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="csp_if_can_h.html">CAN Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_eth_h.html">Ethernet Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_eth_pbuf_h.html">Packet buffer header</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_i2c_h.html">I2C Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_kiss_h.html">KISS Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_lo_h.html">Loopback Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_tun_h.html">Tunnel Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="csp_if_udp_h.html">UDP Interface</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ZeroMQ Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../arch/arch.html">Architecture dependent</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Cubesat Space Protocol</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../basic.html">The basics of CSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../memory.html">How CSP uses memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mtu.html">Maximum Transfer Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../outflow.html">Outgoing Packet Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../protocolstack.html">The Protocol Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../topology.html">Network Topology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tunnel.html">CSP tunnels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hooks.html">Hooks in CSP</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to libcsp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../codestyle.html">Code style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../git-commit.html">Git Commit Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../structure.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CI.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../example.html">Client and server example</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: rgba(52,49,49,1) 100%;" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Lib CSP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="interfaces.html">Interfaces</a></li>
      <li class="breadcrumb-item active">ZeroMQ Interface</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zeromq-interface">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">ZeroMQ Interface</a><a class="headerlink" href="#zeromq-interface" title="Permalink to this heading"></a></h1>
<p><strong>File:</strong> csp/interfaces/csp_if_zmqhub.h</p>
<p><strong>Description:</strong> ZMQ (ZeroMQ) interface.</p>
<p>The ZMQ interface is designed to connect to a ZMQ hub, also refered to as
zmqproxy. The zmqproxy can be found under examples, and is based on
zmq_proxy() - provided by the ZMQ API.</p>
<p>For further details on ZMQ, see <a class="reference external" href="http://www.zeromq.org">http://www.zeromq.org</a>.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#zeromq-interface" id="id1">ZeroMQ Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#defines" id="id2">Defines</a></p></li>
<li><p><a class="reference internal" href="#interface-functions" id="id3">Interface Functions</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="defines">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Defines</a><a class="headerlink" href="#defines" title="Permalink to this heading"></a></h2>
<dl class="c macro">
<dt class="sig sig-object c" id="c.CSP_ZMQ_MTU">
<span class="sig-name descname"><span class="n"><span class="pre">CSP_ZMQ_MTU</span></span></span><a class="headerlink" href="#c.CSP_ZMQ_MTU" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.CSP_ZMQ_MTU"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>max payload data, see documentation</p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.CSP_ZMQPROXY_SUBSCRIBE_PORT">
<span class="sig-name descname"><span class="n"><span class="pre">CSP_ZMQPROXY_SUBSCRIBE_PORT</span></span></span><a class="headerlink" href="#c.CSP_ZMQPROXY_SUBSCRIBE_PORT" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.CSP_ZMQPROXY_SUBSCRIBE_PORT"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>zmqproxy default subscribe (rx) port.
The client must connect it’s publish endpoint to the zmqproxy’s subscribe port.</p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.CSP_ZMQPROXY_PUBLISH_PORT">
<span class="sig-name descname"><span class="n"><span class="pre">CSP_ZMQPROXY_PUBLISH_PORT</span></span></span><a class="headerlink" href="#c.CSP_ZMQPROXY_PUBLISH_PORT" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.CSP_ZMQPROXY_PUBLISH_PORT"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>zmqproxy default publish (tx) port.
The client must connect it’s subscribe endpoint to the zmqproxy’s publish port.</p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.CSP_ZMQHUB_IF_NAME">
<span class="sig-name descname"><span class="n"><span class="pre">CSP_ZMQHUB_IF_NAME</span></span></span><a class="headerlink" href="#c.CSP_ZMQHUB_IF_NAME" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.CSP_ZMQHUB_IF_NAME"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Default ZMQ interface name.</p>
</dd></dl>

</section>
<section id="interface-functions">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Interface Functions</a><a class="headerlink" href="#interface-functions" title="Permalink to this heading"></a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.csp_zmqhub_make_endpoint">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">csp_zmqhub_make_endpoint</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">host</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">port</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">buf_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.csp_zmqhub_make_endpoint" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.csp_zmqhub_make_endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Format endpoint connection string for ZMQ.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> – host name of IP.</p></li>
<li><p><strong>port</strong> – IP port.</p></li>
<li><p><strong>buf</strong> – user allocated buffer for receiving formatted string.</p></li>
<li><p><strong>buf_size</strong> – size of buf.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>#CSP_ERR_NONE on succcess. #CSP_ERR_NOMEM if supplied buffer too small.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.csp_zmqhub_init">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">csp_zmqhub_init</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">host</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <a class="reference internal" href="../csp_types_h.html#c.csp_iface_t" title="csp_iface_t"><span class="n"><span class="pre">csp_iface_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">return_interface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.csp_zmqhub_init" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.csp_zmqhub_init"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Setup ZMQ interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> – only receive messages matching this address (255 means all).                              This is set as rx_filter in call to</p></li>
<li><p><strong>host</strong> – host name or IP of zmqproxy host. Endpoints are                               created using the host and the default subscribe/publish ports.</p></li>
<li><p><strong>flags</strong> – flags for controlling features on the connection.</p></li>
<li><p><strong>return_interface</strong> – created CSP interface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>#CSP_ERR_NONE on succcess - else assert.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.csp_zmqhub_init_w_endpoints">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">csp_zmqhub_init_w_endpoints</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">publish_endpoint</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">subscribe_endpoint</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <a class="reference internal" href="../csp_types_h.html#c.csp_iface_t" title="csp_iface_t"><span class="n"><span class="pre">csp_iface_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">return_interface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.csp_zmqhub_init_w_endpoints" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.csp_zmqhub_init_w_endpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Setup ZMQ interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> – only receive messages matching this address (255 means all).                                                 This is set as a rx_filter.</p></li>
<li><p><strong>publish_endpoint</strong> – publish (tx) endpoint -&gt; connect to                                                                              zmqproxy’s subscribe port #CSP_ZMQPROXY_SUBSCRIBE_PORT.</p></li>
<li><p><strong>subscribe_endpoint</strong> – subscribe (rx) endpoint -&gt; connect                                                                                   to zmqproxy’s publish port #CSP_ZMQPROXY_PUBLISH_PORT.</p></li>
<li><p><strong>flags</strong> – flags for controlling features on the connection.</p></li>
<li><p><strong>return_interface</strong> – created CSP interface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>#CSP_ERR_NONE on succcess - else assert.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.csp_zmqhub_init_w_name_endpoints_rxfilter">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">csp_zmqhub_init_w_name_endpoints_rxfilter</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ifname</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">rx_filter</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">rx_filter_count</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">publish_endpoint</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">subscribe_endpoint</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">flags</span></span>, <a class="reference internal" href="../csp_types_h.html#c.csp_iface_t" title="csp_iface_t"><span class="n"><span class="pre">csp_iface_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">return_interface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.csp_zmqhub_init_w_name_endpoints_rxfilter" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.csp_zmqhub_init_w_name_endpoints_rxfilter"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Setup ZMQ interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ifname</strong> – Name of CSP interface, use NULL for default                                                              name #CSP_ZMQHUB_IF_NAME.</p></li>
<li><p><strong>addr</strong> – Address assigned to the CSP interface.     rx_filter (const uint16_t) [in]: Rx filters, use NULL for no filters - receive all messages.    rx_filter_count (unsigned int) [in]: Number of Rx filters in rx_filter.</p></li>
<li><p><strong>publish_endpoint</strong> – publish (tx) endpoint -&gt; connect to                                                                            zmqproxy’s subscribe port #CSP_ZMQPROXY_SUBSCRIBE_PORT.</p></li>
<li><p><strong>subscribe_endpoint</strong> – subscribe (rx) endpoint -&gt; connect to zmqproxy’s                                                                             publish port #CSP_ZMQPROXY_PUBLISH_PORT.</p></li>
<li><p><strong>flags</strong> – flags for controlling features on the connection.</p></li>
<li><p><strong>return_interface</strong> – created CSP interface.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>#CSP_ERR_NONE on succcess - else assert.</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.csp_zmqhub_init_filter2">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">csp_zmqhub_init_filter2</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ifname</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">host</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">addr</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">netmask</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">promisc</span></span>, <a class="reference internal" href="../csp_types_h.html#c.csp_iface_t" title="csp_iface_t"><span class="n"><span class="pre">csp_iface_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">return_interface</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">sec_key</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">subport</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">pubport</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.csp_zmqhub_init_filter2" title="Permalink to this definition"></a><br /><a class="reference internal" href="../../_modules/interfaces/csp_if_zmqhub.h.html#c.csp_zmqhub_init_filter2"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Setup filtered ZMQ interface.
The filter can be enabled with promisc = 0, or disabled with promisc = 1.</p>
<p>The filter only works with CSP 2.0 protocol, because the first two bytes are the
priority and the destination address. ZMQ does not support masking, so the code
actually subscribes to the address once for each priority. It also calculates
the broadcast address and subscribes to that, aagin for each priority. Finally the
global broadcast address is also subscribed to. meaning a total of 3 * 4 filters.</p>
<p>If a secret key curve zmq is enabled</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="csp_if_udp_h.html" class="btn btn-neutral float-left" title="UDP Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../arch/arch.html" class="btn btn-neutral float-right" title="Architecture dependent" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>